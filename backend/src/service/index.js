const fakedada = [
    {
        username: 'debbielmccoy12',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'We drove from New London and met Adrian at the door.  From then till we signed the paperwork on a beautiful 2020 Chevy Equinox it was a real enjoyable experience.  Everyone there were very friendly, just like a family.',
        number_of_employees: 3,
        date: 'March 26, 2021',
        visit: 'SALES VISIT - NEW'
      },
      {
        username: 'justin.swanzy',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Had a great experience working with Adrian, he was very helpful, not pushy and very informative about everything and anything i had to ask. Definitely would recommend friends to come here for their shopping needs and to ask for adrian to be their salesman',
        number_of_employees: 2,
        date: 'March 25, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'pda1956',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Very nice  people fairly easy process.  Very nice used vehicle.  Very friendly staff.  Overall experience was great. Glad I came to your business.  Will be sending customers your way',
        number_of_employees: 3,
        date: 'March 24, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'Echandy217',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'We drove from Tyler to see about getting a vehicle. We fell in love with the Cadillac they had. Adrian was a huge help. Very professional and made us feel very comfortable while we waited on paper work . Drove off with our car very very satisfied! Highly recommend ! üòÅ',
        number_of_employees: 1,
        date: 'March 23, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'dart000',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'I have been buying vehicles at McKaig for decades, primarily for the service and the way they treat you. I feel like a part of the family when I walk in the door. ',
        number_of_employees: 2,
        date: 'March 23, 2021',
        visit: 'SALES VISIT - NEW'
      },
      {
        username: 'KenWW',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: "Ken Wardlaw- We have bought 4 vehicles from McKaig because of the excellent service and care provided their customers. Regardless of the needs they have always exceeded our expectations. I often direct anyone seeking a vehicle new or used to see McKaig's team assuring them they will get honest and dependable care and service. ",
        number_of_employees: 2,
        date: 'March 18, 2021',
        visit: 'SERVICE VISIT'
      },
      {
        username: 'Powell.jasmine4',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'I‚Äôm from Big Sandy and I came into this dealership with no appointment and no expectations of qualifying for a car. Without a hesitation Dennis took me in and ran the paper work and got me into my Chevy cruise and I absolutely love it! I would definitely recommend anyone looking for a car to come here. Thank you Dennis, Brandon and Taylor for all your work!',
        number_of_employees: 3,
        date: 'March 16, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'judewdubois',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Adrian is vey knowledgeable, he was always in constant communication with me while in the process of ordering and arrival of my truck. Great salesman',
        number_of_employees: 1,
        date: 'March 14, 2021',
        visit: 'SALES VISIT - NEW'
      },
      {
        username: 'Vanika13',
        rating: 42,
        customer_service_rating: 40,
        quality_of_work_rating: 40,
        friendliness_rating: 50,
        pricing_rating: 40,
        overall_experience_rating: 40,
        recommended_dealer_rating: -1,
        comment_text: 'Awesome place! We went in afraid that we may not be able to get exactly what we wanted, however they were able to work with us and got us the exact vehicle we wanted within our budget. The people were awesome! We didn‚Äôt feel rushed and they even stayed well after hours to take care of us! ',
        number_of_employees: 3,
        date: 'March 09, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'cookie',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Dennis was very nice and helpful. I told him that I only wanted one certain car & I left the lot with that car. They were very busy, but he remained positive & had great customer service. I was so pleased that I referred a friend & she also got a new whip! Awesome people :) Summer was very helpful. & Taylor was nice.',
        number_of_employees: 3,
        date: 'March 09, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'Monica1815.mh',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Patrick is just The Best ... there‚Äôs really no better way to put it.  I have been a customer of McKaig Chevrolet Buick for several years now, and every time I have an issue, Patrick is my go-to guy!  He is so friendly and knowledgeable!!  He has not only resolved every issue that I have ever had, but he does it over-the-top, so to say ... he does a better job than he even has to.  He answers my questions after hours and puts up with all of my whining. LOL\n' +
          'I couldn‚Äôt recommend a better service guy if I wanted to.  Go see Patrick and he will DEFINITELY take care of you !!!',
        number_of_employees: 8,
        date: 'February 26, 2021',
        visit: 'SERVICE VISIT'
      },
      {
        username: 'Monica1815.mh',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'This is the 2nd vehicle I have purchased from McKaig Chevrolet Buick, and I wouldn‚Äôt purchase a vehicle anywhere else!  Their service department has taken care of me exceptionally several times, especially Patrick Evans!  He is so friendly and so knowledgeable.  I had a small wreck in my 2018 Chevy Traverse that I purchased from McKaig, and Patrick recommended Adrian Cortes to sell me a new vehicle on the spot instead of fixing my Traverse and I took the bait willingly!  LOL !!!  I knew that Adrian would put me in a reliable vehicle that would fit my needs, including 4-wheel drive, having to fit a 6‚Äô4‚Äù man in the front passenger seat and 2 big car seats in the back, not to mention TONS of room in the back for all my junk and groceries.  Needless to say, Adrian  fixed me up in a 2018 4x4 Jeep Grand Cherokee that is loaded to the max and is WAY sportier and more luxurious than what I had before.  I told Adrian what I wanted in a vehicle and he took me right to it, where I immediately fell in love with the All-Black look, even the 20‚Äù wheels.  I feel like a Cool Mom now thanks to Adrian!  I will DEFINITELY purchase my next vehicle from him!  I couldn‚Äôt be happier!',
        number_of_employees: 8,
        date: 'February 26, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'Trish',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'David gave us the absolute best car buying experience we have ever had...no pressure, extremely knowledgeable about all of the vehicles they sell...if you are looking for a new vehicle,  no pressure  go see David ',
        number_of_employees: 1,
        date: 'February 25, 2021',
        visit: 'SALES VISIT - NEW'
      },
      {
        username: 'regeorge41',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'By far the best car buying experience I have ever had. Great attitude and lots of laughs together while all the hard work of getting the job done. I will continue with McKaig with all my service and car buying in the future. I appreciate all the hard work and diligent attention to every detail given by Mckaig and your team. I have definitely made a new and lasting relationship wit you all. ',
        number_of_employees: 3,
        date: 'February 25, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'albp22116',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'The dealership was absolutely amazing! We were greeted as soon as we stepped foot into the building. The staff was very warm, kind, and also helpful! ',
        number_of_employees: 6,
        date: 'February 25, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'Kelseyclark89',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Dennis and the team at McKaig made my car buying experience a breeze! He really helped me find something that fits me and my needs. The buying process was so easy compared to other experiences elsewhere.',
        number_of_employees: 3,
        date: 'February 22, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'Trestoncoleman',
        rating: 48,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 40,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Great customer service, and even greater people. They won‚Äôt stop until you drive away in your dream car or truck. highly recommend giving them a visit. ',
        number_of_employees: 2,
        date: 'February 19, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'raymundoalvarez18',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'I walked in and immediately felt comfortable looking at the vehicles and talking to the dealer about working out a deal on a first time purchase.',
        number_of_employees: 1,
        date: 'February 11, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'HappyCustomer',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: "I'm so lucky to have McKaig Chevrolet right here in Gladewater, Texas!! I do not need to look further to find a nicer, newer vehicle! (I've bought several here over the years!) Dennis really listens to me when I tell him my preferences in vehicle types and options, He always works hard to fit the right vehicle to my needs. Branden is always available to lend his expertise and Freddie has the closing process down pat! You should give these guys a shot at filling your new (and used) car needs. They're the best!!",
        number_of_employees: 3,
        date: 'February 10, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'donnieb6680',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: "Dealing with McKaig in Gladewater is 100% better than any other experience at other dealerships.  They worked hard to learn exactly what kind of car and price I was trying to get, and they helped me find a deal to fit my needs.  I didn't feel pressured like some of the other dealerships.  \n" +
          'I connected first with Summer and Alisa online via the website and then worked with David once I got to the dealership.  They were all very friendly and helpful.  Taylor also did a great job of explaining all the financing terms. \n' +
          '\n' +
          '10/10 would definitely recommend them all! ',
        number_of_employees: 7,
        date: 'February 06, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'reppond2southkorea',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: "They have taken care of our family's vehicle needs for years! We drove almost four hours just to do business with Adrian at Mckaig Chevrolet! He went above and beyond to meet our needs! ",
        number_of_employees: 2,
        date: 'February 04, 2021',
        visit: 'SALES VISIT - NEW'
      },
      {
        username: 'Daphne8403',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'The best customer service. They try their best to find the right car for you. Even with no so good credit. They let you know what you can afford. They don‚Äôt treat you like you are just another sale for them.',
        number_of_employees: 1,
        date: 'February 03, 2021',
        visit: 'SALES VISIT - NEW'
      },
      {
        username: 'Wisdom n jacklyn',
        rating: 48,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 40,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'AAAAAAAWESOME CUSTOMER SERVICE AND AWESOME PEOPLE!!!! THEY CAN HELP LITERALLY ANYONE GET A NEWER NICER CAR!!! This is our 2nd go round with them!! Love them',
        number_of_employees: 3,
        date: 'February 01, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'vickiarlene52',
        rating: 50,
        customer_service_rating: 0,
        quality_of_work_rating: 0,
        friendliness_rating: 0,
        pricing_rating: 0,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'I had service work done on my traverse and when Patrick said he‚Äôd take care of me he meant it! Beyond pleased. Vicki Willingham ',
        number_of_employees: 1,
        date: 'January 31, 2021',
        visit: 'SERVICE VISIT'
      },
      {
        username: 'Simpkinsarchie',
        rating: 48,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 40,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Friendly and accommodating customer service. The representatives are respectful and go out of their way to work with you to get you a nicer and newer car. I would recommend McKaig to anyone who wants a nicer, newer car.',
        number_of_employees: 3,
        date: 'January 31, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'Mandy S',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'We havent bought a new vehicle since 2006 and they made us feel at home and eased all my nerves about the purchase! I love my new Chevy and will def be back!! ',
        number_of_employees: 3,
        date: 'January 30, 2021',
        visit: 'SALES VISIT - NEW'
      },
      {
        username: 'Tasha',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Great customer service! I felt very comfortable with Adrian. He was very patient and never pushy during the process. I appreciate his willingness to go above and beyond to help me achieve the best deal possible. I love my new ride!',
        number_of_employees: 1,
        date: 'January 25, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'vnystel',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: "Fantastic service department who goes above and beyond any expectations a customer would have.  Patrick and Mariela are the best service advisors you'll find anywhere. ",
        number_of_employees: 2,
        date: 'January 25, 2021',
        visit: 'SERVICE VISIT'
      },
      {
        username: 'Aleshia',
        rating: 48,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 40,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'This dealership is like non other! They are so welcoming and kind. They don‚Äôt just sell you a car, they help find the best fit for you and make sure you‚Äôre happy. Also they actually explain things to you my credit, interest rate, etc. I learned a lot of things that will help me going forward. I recommend them to everyone! Kristina was my salesperson she is awesome! Everyone was.',
        number_of_employees: 2,
        date: 'January 25, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'Nathan and his Chevy',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Dennis put in a lot of effort to find the perfect truck for me and made sure I was happy. I am very satisfied with my new truck. I have bought two vehicles from there and will be back. I also use their service department. Thanks to Dennis and Mariella!',
        number_of_employees: 5,
        date: 'January 25, 2021',
        visit: 'SALES VISIT - NEW'
      },
      {
        username: 'Kendall.Hurtt',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'He did a great job with helping me finance my vehicle. I will definitely recommend McKaig to all of my friends and family! Thank you!',
        number_of_employees: 3,
        date: 'January 23, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'Mechellegrahamtx',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Great customer service, very friendly, proficient, and professional. The entire business blew our HORRIBLE experience, from another local dealership, out of the water. Thank you guys for your help! ',
        number_of_employees: 3,
        date: 'January 23, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'Mikaylaflournoy',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'I‚Äôve been dealing with Adrian and the Mckaig family since 2017. Bought three cars from them and they are excellent. Mckaig is the one ',
        number_of_employees: 2,
        date: 'January 23, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'mattgrahamtx',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: "Excellent service! Adrian explained every step in detail through out the entire sales process. He explained options and helped find the best options for my family's finicial position. I would definitely recommend McKaig Chevrolet and Adrian when you purchase your next vehicle! ",
        number_of_employees: 3,
        date: 'January 22, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'Gabs628',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Really easy to deal with. Helped us a lot with finding our options they had available. Worked with our credit and made it all worth it.',
        number_of_employees: 1,
        date: 'January 22, 2021',
        visit: 'SALES VISIT - NEW'
      },
      {
        username: 'Jaimewinters2',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'David is fantastic! He put us in a great car without breaking the bank. I will definitely be purchasing all future vehicles from him! Thank you, David! ',
        number_of_employees: 1,
        date: 'January 20, 2021',
        visit: 'SALES VISIT - NEW'
      },
      {
        username: 'K Hatch',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 0,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'I needed a larger vehicle for my family. I told Adrian what I needed and he found the perfect vehicle. He was extremely professional, helpful, and easy to work with. I could tell that he could be trusted  and wanted to satisfy his customers. He is  the best car salesman  that I have ever experienced. I would definitely recommend him.',
        number_of_employees: 1,
        date: 'January 20, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'dekota1',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'My name is Nicole I‚Äôm drove in from Hughes spring Tx 2019 Buick Encore I had my oil change today and Patrick Evans replace the batteries in my key fob for me great service every time. ',
        number_of_employees: 4,
        date: 'January 19, 2021',
        visit: 'SERVICE VISIT'
      },
      {
        username: 'Jnicholson4472',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Great guy worked hard to get us pur deal. Would definitely recommend working with him. Worked a deal with us today that was easier then I thought it would be due to certain issues',
        number_of_employees: 1,
        date: 'January 18, 2021',
        visit: 'SALES VISIT - NEW'
      },
      {
        username: 'ckennard1',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'I was very impressed with the people in the service department, Mariela and Patrick. While I was waiting I visited with Taylor, he was very helpful in our discussion of electric vehicles.  I had brought in my Volt for maintenance work. My local dealer would not attempt to work on my car due to staffing issues. The dealership in Tyler was unable to correct my problem after having the car half a day. You can imagine my anxiety at that point.  The staff at McKaig was friendly, helpful and reassuring. I left the car there since it was Friday afternoon. Monday morning I got a call from Mariela and my car was repaired.  The repair cost was very reasonable. I am thankful to everyone that I visited with.  ',
        number_of_employees: 3,
        date: 'January 18, 2021',
        visit: 'SERVICE VISIT'
      },
      {
        username: 'Bubba B',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'The service department is second to none. Not only is the sales staff great at what they do but the service after the sale is amazing. I will be buying my next vehicle from Mckaig because of there service department. They go above and beyond! ',
        number_of_employees: 5,
        date: 'January 17, 2021',
        visit: 'SERVICE VISIT'
      },
      {
        username: 'Chevyandrews04',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'This dealership is absolutely amazing. Very friendly people, didn‚Äôt take long at all. Got us in a 2019 Dodge Grand Caravan. Would definitely recommend. ',
        number_of_employees: 2,
        date: 'January 15, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'RGRANT',
        rating: 48,
        customer_service_rating: 50,
        quality_of_work_rating: 0,
        friendliness_rating: 50,
        pricing_rating: 40,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Excellent customer service, attention to detail, no hidden fees or charges, my salesperson Kristina was not pushy at all but was very attentive to what I was looking for in a truck giving me several options and going the extra mile in getting me exactly what I was looking for: ',
        number_of_employees: 3,
        date: 'January 15, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'pmtcat2004',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'I saw a 2017 chevy volt online at McKaig Chevy and Adrian was very helpful explaining all the features of a hybrid. Excellent service! From Yantis,Tx.',
        number_of_employees: 1,
        date: 'January 14, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'JWDuck57',
        rating: 43,
        customer_service_rating: 0,
        quality_of_work_rating: 0,
        friendliness_rating: 50,
        pricing_rating: 30,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Bought a 2018 Ram.  Shonna Stuve was great.  She worked really hard and has a great personality.  She got answers to all my questions and got me started in the process.',
        number_of_employees: 1,
        date: 'January 14, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'aandrewslp',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'This dealership and their team went above and beyond to get myself and my spouse into new vehicles and lowered our payments!!  AMAZING! from top to bottom!',
        number_of_employees: 5,
        date: 'January 13, 2021',
        visit: 'SALES VISIT - NEW'
      },
      {
        username: 'Shayla C',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Started my process online, then came into the dealership to finish up everything and drove off in my new Malibu! We spent only a few hours at the dealership, but the people were so friendly it didn‚Äôt seem like that long. Shonna was AMAZING!!!!!! ',
        number_of_employees: 3,
        date: 'January 04, 2021',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'Kelsey Laird',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Both David and Brandon exceeded my expectations when it came to a car buying experience. Will be back for sure in the future when we are ready to move forward with purchasing. ',
        number_of_employees: 2,
        date: 'December 22, 2020',
        visit: 'SALES VISIT - NEW'
      },
      {
        username: 'Darrelldewyane2',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'David Varner\n' +
          'I Purchased a 2020 Equinox.. David went above and beyond to get the car I wanted.. \n' +
          'He did not stop till I was happy... \n' +
          'So.. When you need a car with great service buy it from David.. \n' +
          'Only at McKaig Cheverolet',
        number_of_employees: 2,
        date: 'December 19, 2020',
        visit: 'SALES VISIT - NEW'
      },
      {
        username: 'Stephanie.veaseyste',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'David Varner really worker hard over a couple of days to help my future husband get a brand new Chevy equinox thank you so much David ',
        number_of_employees: 3,
        date: 'December 17, 2020',
        visit: 'SALES VISIT - NEW'
      },
      {
        username: 'louann326',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 0,
        friendliness_rating: 50,
        pricing_rating: 0,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'I‚Äôm Lou Ann Wise and I drove from Marshall, TX. Patrick was very friendly and courteous. I was in and out in no time at all.',
        number_of_employees: 1,
        date: 'December 16, 2020',
        visit: 'SERVICE VISIT'
      },
      {
        username: 'renee9173',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 0,
        friendliness_rating: 50,
        pricing_rating: 0,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Fast and friendly service, Dennis was very helpful and explained everything about the car that I needed to know. Would highly recommend McKaig Chev Buick to friends and family.\n' +
          'Renee M',
        number_of_employees: 2,
        date: 'December 15, 2020',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'jlclem61',
        rating: 42,
        customer_service_rating: 50,
        quality_of_work_rating: 40,
        friendliness_rating: 40,
        pricing_rating: 40,
        overall_experience_rating: 40,
        recommended_dealer_rating: -1,
        comment_text: 'We came from Gilmer looking for a newer vehicle. The 1st time we Adrian he stayed late for us to look at cars. He‚Äôs very professional. When we decided to buy a car I called Adrian and he was helpful in getting the vehicle that we wanted.',
        number_of_employees: 1,
        date: 'December 11, 2020',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'Arpfire36',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Came out from Lindale after being referred to the dealership, met Adrian after I showed up to my appointment. He did everything in his power to find a deal that would work for me; he was extremely knowledgeable in all areas of his job duties and helped me get into a car that I desired.',
        number_of_employees: 1,
        date: 'December 11, 2020',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'Katherinetisdale',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Adrian was extremely helpful in selecting my new Buick. He was very courteous and understand with all of the question i had asked. For sure will come back for my next vehicle. ',
        number_of_employees: 1,
        date: 'December 11, 2020',
        visit: 'SALES VISIT - NEW'
      },
      {
        username: 'Garydowdy59',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'The best shop team.. A #1 diesel tech...He knows his stuff...Both of the service writers are customer friendly...I run my truck coast to coast this dealership is by far the best hands down!!!',
        number_of_employees: 2,
        date: 'December 10, 2020',
        visit: 'SERVICE VISIT'
      },
      {
        username: 'Lara Harrison',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Shonna and her team were very friendly and professional, the process was relaxed and without pressure for the sale. I will refer anyone looking for a vehicle here! Thank you!',
        number_of_employees: 1,
        date: 'December 09, 2020',
        visit: 'SALES VISIT - NEW'
      },
      {
        username: 'Abigail argueta',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'I recommend McKaig Chevrolet Buick. We decided to request on a vehicle and they contacted us right away. Go see Mr. Dennis Smith to help you with your dream car! He was super patient with all mi kids and being with us until 10pm! We are from Henderson, TX and definitely was worth the drive! I appreciate the help we got from Dennis, McCloskey, and  Prickett. They made our purchase so smoothly. I highly recommend them to my family and friends.',
        number_of_employees: 2,
        date: 'December 07, 2020',
        visit: 'SALES VISIT - NEW'
      },
      {
        username: 'aliciabarton',
        rating: 43,
        customer_service_rating: 0,
        quality_of_work_rating: 0,
        friendliness_rating: 50,
        pricing_rating: 30,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'This is my second time coming in and my husband‚Äôs fourth time and between any other dealership we‚Äôve been to this is the best one yet. McKaig works with you good credit or bad and will help you based off of income. After coming here so many times between both me and my husband we have recommended it to friends and family and I know they have never been disappointed either. They keep working with you until the expectations you have for a vehicle is met and they are very honest people. We will definitely be coming here again in the future.',
        number_of_employees: 2,
        date: 'December 07, 2020',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'donnalangston83',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 0,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Dec.3rd we decided to take a look at McKaigs certified used cars.  Thinking that was where our credit would allow us to shop. Adrian comes out, greets us and asks the basic questions and made a suggestion to start with seeing where we at credit wise.  So... long story short, we drove off with a brand new, 2020 Trax! Thank you Adrian for your work and Brandon (finance mgr) ! We will recommend McKaigs and Adrian!',
        number_of_employees: 2,
        date: 'December 07, 2020',
        visit: 'SALES VISIT - NEW'
      },
      {
        username: 'Midlifemom',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Great experience.  I found the car I was interested in at carfax. It was just what was advertised. Everyone was so helpful. Eric Goodas, Jeremy and Brandon went out of their way to make me feel at ease. I am very happy with my new ford escape. Thank you guys.',
        number_of_employees: 2,
        date: 'December 03, 2020',
        visit: 'SALES VISIT - USED'
      },
      {
        username: 'Gabrielled1992',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Mckaig is the dealership for the people. Thanks you Eric Goodess and the entire Mckaig staff for such an amazing job . I love my Buick Encore ',
        number_of_employees: 8,
        date: 'November 29, 2020',
        visit: 'SALES VISIT - NEW'
      },
      {
        username: 'Jenngal2018',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'Mariela was so helpful! She made the whole process so easy and fast she also helped me save money! Thank you Mariela! You are Awesome! ',
        number_of_employees: 1,
        date: 'November 25, 2020',
        visit: 'SERVICE VISIT'
      },
      {
        username: 'Lakethaphillips',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: "They where very nice didn't think I was going to be approve it was a quick process they made sure I was taking care of",
        number_of_employees: 6,
        date: 'November 24, 2020',
        visit: 'SALES VISIT - NEW'
      },
      {
        username: 'Txsdadx4',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: ' they have always been very professional they take care of my car as if it was theirs and I will always bring my car to them',
        number_of_employees: 4,
        date: 'November 22, 2020',
        visit: 'SERVICE VISIT'
      },
      {
        username: 'Thehpysmiths',
        rating: 50,
        customer_service_rating: 50,
        quality_of_work_rating: 50,
        friendliness_rating: 50,
        pricing_rating: 50,
        overall_experience_rating: 50,
        recommended_dealer_rating: -1,
        comment_text: 'McKaigs employees are all so gracious and hospitable, asking if I would like a refreshment, making sure we were comfortable and the best service around!! Thank you all! ',
        number_of_employees: 2,
        date: 'November 21, 2020',
        visit: 'SERVICE VISIT'
      }
]

const getGroupByCriteriaRecords = (items, key, occurance) =>{
    let hashSet = new Map()
    if(items && Array.isArray(items) && items.length>0){
        items.forEach((value)=>{
            //check is the key exists in property
            if(key in value){
                if(hashSet.has(value[key])){
                    hashSet.set(value[key],hashSet.get(value[key])+1)
                }
                else{
                    hashSet.set(value[key],1)
                }
            }
        })
        const groupedKeys = Array.from(hashSet, ([item, value]) => ({ item, value }));
        const havingMoreThenOneKeysArray = groupedKeys.filter(x=>x.value>occurance);
        const getKeysfromArray = havingMoreThenOneKeysArray.map(x=>x.item);
        const result = items.filter(keysfromall => getKeysfromArray.includes(keysfromall[key]));
        return result;
    }
    return [];
}
const excludeFromArrayByCriteria = (items,itemstoexclude,key) =>{
    let hashSet = new Set()
    if(itemstoexclude && Array.isArray(itemstoexclude) && itemstoexclude.length>0 && items && Array.isArray(items) && items.length>0){
        itemstoexclude.forEach((value)=>{
            //check is the key exists in property
            if(key in value){
                hashSet.add(value[key]);
            }
        })
        const allValuesToExclude = Array.from(hashSet);
        const result = items.filter(item => !allValuesToExclude.includes(item[key]));
        return result;
    }
    return items;
}
const distinctifyArrayByCriteria = (items,key) =>{
    let result = [];
    let hashSet = new Set()
    if(items && Array.isArray(items) && items.length>0){
        items.forEach((value)=>{
            //check is the key exists in property
            if(key in value){
                if(!hashSet.has(value[key])){
                    result.push(value)
                    hashSet.add(value[key])
                }
            }
        })
    }
    return result;
}

const recordsWithSameUser = (users)=> {
    return getGroupByCriteriaRecords(users,'username',1);
}
const recordsWithSameComment = (users)=> {
    return getGroupByCriteriaRecords(users,'comment_text',1);
}

const recordsWithSameDate = (users)=>{
    return getGroupByCriteriaRecords(users,'date',1);
}
const usersWithAllFiveStars = (users)=>{
    if(users && Array.isArray(users) && users.length>0){
        const result = users.filter(user => user.rating===50 &&
            user.customer_service_rating===50 &&
            user.quality_of_work_rating===50 &&
            user.friendliness_rating===50 &&
            user.pricing_rating===50 &&
            user.overall_experience_rating===50);

            return result;

    }
    return [];
}

const getTopThreeSuspectUsers = (users,topValue)=>{
    let result = [];
    let suspects = usersWithAllFiveStars(users);
    suspects = recordsWithSameDate(suspects);
    suspects = recordsWithSameUser(suspects);
    suspects = recordsWithSameComment(suspects);
    result = [...suspects];
    console.log(result)

    if(result.length<topValue){ 
        users = excludeFromArrayByCriteria(users,result,'username');
        suspects = usersWithAllFiveStars(users);
        suspects = recordsWithSameDate(suspects);
        suspects = recordsWithSameUser(suspects);
        result = [...result,suspects]
    }
    if(result.length<topValue){ 
        users = excludeFromArrayByCriteria(users,result,'username');
        suspects = usersWithAllFiveStars(users);
        suspects = recordsWithSameDate(suspects);
        result = [...result,suspects]
    }
    if(result.length<topValue){ 
        users = excludeFromArrayByCriteria(users,result,'username');
        suspects = usersWithAllFiveStars(users);
        result = [...result,suspects]
    }
    return result;
}

//const r = getTopThreeSuspectUsers(fakedada,3);
//console.log(r);

// these functions are exported for testing and for using externaly
module.exports = {
    usersWithAllFiveStars:usersWithAllFiveStars,
    getGroupByCriteriaRecords:getGroupByCriteriaRecords,
    excludeFromArrayByCriteria:excludeFromArrayByCriteria,
    distinctifyArrayByCriteria:distinctifyArrayByCriteria
};